<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Step Sequencer MIDI Generator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/icons/music-note-beamed.svg"
        type="image/svg+xml">
</head>

<body class="bg-light py-4">
    <div class="container bg-white p-4 rounded shadow">
        <h1 class="text-center fw-bold mb-4">Step Sequencer MIDI Generator</h1>
        <div class="row g-4">
            <div class="col-md-6">
                <form id="sequencerForm">
                    <div class="mb-3">
                        <label for="noteSequence" class="form-label">Note Sequence:</label>
                        <textarea id="noteSequence" name="noteSequence" class="form-control" rows="6"
                            placeholder="E3:P1:L2:V110&#10;G3:P3:L1:V90"></textarea>
                        <small class="form-text text-muted">
                            Enter notes in the format: <code>NoteOrMidi:P#:L#:V#</code> (e.g., <code>E3:P1:L2:V110</code> or <code>60:P1:L2:V110</code>).
                            <br>
                            <strong>P</strong>: Position (step), <strong>L</strong>: Length (steps), <strong>V</strong>: Velocity (1-127)
                            <br>
                            <strong>At the end, add <code>| S[steps]:B[bpm]</code> (e.g., <code>| S12:B120</code>) to set total steps and tempo.</strong>
                            <br>
                            <em>If not provided, defaults are <strong>16 steps</strong> and <strong>120 BPM</strong>.</em>
                        </small>
                    </div>
                    <div class="my-3">
                        <label for="outputFileName" class="form-label">Output Filename (.mid):</label>
                        <input type="text" id="outputFileName" name="outputFileName" class="form-control"
                            placeholder="sequence">
                    </div>
                    <div class="d-grid gap-2">
                        <button type="button" id="downloadMidiButton" class="btn btn-primary">Download MIDI</button>
                    </div>
                </form>
                <div id="status" class="mt-4 text-center text-muted">Enter notes and click Download or Preview.</div>
            </div>
            <div class="col-md-6">
                <h2 class="text-center fs-5 mt-3">Step Grid Preview</h2>
                <p class="text-center text-muted">Visual representation of your sequence.</p>
                <canvas id="stepGridCanvas" class="w-100 border rounded"></canvas>
            </div>
        </div>
        <div class="text-center mt-4">
            <a href="index.html" class="btn btn-outline-primary">
                <i class="bi bi-music-note-list"></i> Go to Chord Progression Tool
            </a>
        </div>
    </div>
    <div class="text-center mt-5">
        <a href="https://github.com/1legality/progression-to-midi" target="_blank" rel="noopener noreferrer"
            class="btn btn-dark">
            <i class="bi bi-github"></i> GitHub
        </a>
        <p class="text-muted mt-2">Made with <i>VIBE</i> with a sprinkle of <a href="https://malandry.com"
                class="text-dark fw-bold" target="_blank" rel="noopener noreferrer">human</a> magic</p>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="dist/bundle.js" defer></script>
</body>

</html>